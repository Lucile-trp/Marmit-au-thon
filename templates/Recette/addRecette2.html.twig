{% extends"base.html.twig" %}

{% block title %}Ajouter une recette (partie 2){{ parent() }}{% endblock %}

{% block css %}
    <link rel="stylesheet" href="/assets/form.css">
{% endblock %}

{% block body %}
    <div class="content">
        <div class="form_all">
            <h1>Ajouter une nouvelle recette</h1>
            <div class="form grey">
                <form id="post" action="/Recette/AddRecipe" method="post">
                    <label for="recipename">Nom de la recette</label>
                    <input class="zone_text" type="text" name="recipename" required>
                    <br>
                    <label for="howmany">Pourquoi combien de personnes est cette recette?</label>
                    <select class="zone_text_short_mini shadow_bright" name="howmany">
                        {% for i in 0..10 %}
                            <option value="{{ i }}">{{ i }}</option>
                        {% endfor %}
                    </select>
                    <br>
                    <label for="diet">A quel régime alimentaire appartient votre recette?</label>
                    <select class="zone_text_short shadow_bright" name="diet">
                        {% for diet in diets %}
                            <option value="{{ diet.iddiet }}">{{ diet.dietname }}</option>
                        {% endfor %}
                    </select>
                    <br>
                    <div class="ingredients">
                        <label for="ingredients">Liste des ingrédients</label>
                        <br>
                        {% for i in 1..combien %}
                            <input class="zone_text_short shadow_bright" type="text" name="ingredient[]" placeholder="Ingrédients" required>
                            <input class="zone_text_short_mini shadow_bright" type="number" name="quantite[]" placeholder="Quantité" required>
                            <select class="zone_text_short_mini shadow_bright" name="unity[]" required>
                                {% for unity in unities %}
                                    <option value="{{ unity.uniname }}">{{ unity.uniname }}</option>
                                {% endfor %}
                            </select>
                            <br>
                        {% endfor %}
                    </div>
                    <label for="recipestep">Description de la recette</label><br>
                    <!-- Create the editor container -->

                    <div type="text" id="editor">
                        <p>Décrivez les étapes de votre  <stong>recette</stong></p>
                    </div>


                    <textarea name="recipestep" style="display:none" id="hiddenArea"></textarea>


                    <!--<textarea class="zone_text" name="recipestep" cols="30" rows="10" placeholder="Décrivez les étapes de votre recette" required></textarea>-->
                    <br>
                    <input class="zone_text" type="file" name="recipe-img"><br>
                    <button class="btn orange shadow_bright" type="submit">Enregistrer ma recette</button>
                </form>
            </div>
        </div>
    </div>

    <!-- IMPORTS JQUERY -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <!-- QUILL EDITOR IMPORT -->
    <!-- Include stylesheet -->
    <link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">

    <!-- Include the Quill library -->
    <script src="https://cdn.quilljs.com/1.3.6/quill.js"></script>

    <!-- Initialize Quill editor -->
    <script>
        var quill = new Quill('#editor', {
            theme: 'snow'
        });

        $("#post").on("submit",function() {
            $("#hiddenArea").val($("#editor .ql-editor").html());
        })


    </script>
{% endblock %}